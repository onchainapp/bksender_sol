(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{550:function(e,t,r){"use strict";r.r(t),function(e){r(254),r(34),r(120),r(255),r(70),r(256);var n,c,o,m,d,f,l,h,k,x,T,v,S,w,A,R,y,O,j,E,_,I,F,B,P,G,U,D,C,N,H,K,L,V,X,z,M,W,J,Y,Q,Z,$,ee,te,re,ne,ae,se,ce,oe,ue,ie,me,de,pe,fe=r(38),le=(r(89),r(106),r(39),r(1)),be=(r(85),r(86),r(32),r(3)),he=r(10),ke=r(469),ge=r(117),xe=r(7),Te=r(21),ve=r(23),Se=r.n(ve),we=r(5),Ae=(r(259),r(404)),Re=r(130),ye={dappFee:function(e,t,r,n){if(e.isVIP)return 0;var c=r.metamask.decimals;return Object(we.a)(e.txFee).div(Object(we.a)(10).pow(Object(we.a)(c))).toString(10)},txFee:function(e){if(e.isVIP)return 0;try{return Object(we.a)(e.extraFee).gt(Object(we.a)(e.txFee))?Object(we.a)(e.extraFee).toString(10):e.txFee}catch(t){return e.txFee}},vipFee:function(e){try{return Object(he.fromWei)(e.vipFee,"ether")}catch(e){return"1"}},referralFee:function(e){try{return Object(he.fromWei)(e.referralFee,"ether")}catch(e){return"0.01"}},bulksenderInstance:function(e,t,r,n){return Object(le.a)(regeneratorRuntime.mark((function e(){var t,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.metamask,c=t.ethAccount,o=t.netId,m=ge.a["netId".concat(o)].bulksenderContract,e.next=4,n["metamask/web3"]();case 4:return d=e.sent,e.abrupt("return",new d.eth.Contract(ke,m,{from:c}));case 6:case"end":return e.stop()}}),e)})))}},Oe=(n={setUsedBurnerKey:(pe=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.usedBurnerKey,n("SET_USED_BURNER_KEY",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return pe.apply(this,arguments)}),setGasPrice:(de=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.gasPrice,n("SET_GAS_PRICE",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return de.apply(this,arguments)}),setUsedSimple:(me=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.simple,n("SET_SIMPLE",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return me.apply(this,arguments)}),setExtraFee:(ie=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.extraFee,n("SET_EXTRA_FEE",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return ie.apply(this,arguments)}),createNewAddress:(ue=Object(le.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r=xe.c.generate(),e.abrupt("return",{address:r.publicKey.toString(),privateKey:"["+r.secretKey+"]"});case 3:case"end":return e.stop()}}),e)}))),function(e){return ue.apply(this,arguments)}),saveReferralAddress:(oe=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,address;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,address=r.address,n("SET_REFERRAL_ADDRESS",address);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return oe.apply(this,arguments)}),saveBurnerKey:(ce=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.burnerKey,n("SET_BURNER_KEY",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return ce.apply(this,arguments)}),createBurnKey:(se=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.state,t.getters,n=t.commit,e.next=3,r("createNewAddress");case 3:return c=e.sent,n("SET_BURNER_KEY",c),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),function(e){return se.apply(this,arguments)}),createNewUniqueId:(ae=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r=Date.parse(new Date),n=10*Math.random(),e.abrupt("return",Object(he.fromAscii)(r+"_"+n));case 4:case"end":return e.stop()}}),e)}))),function(e){return ae.apply(this,arguments)}),createNewUniqueId_V1:(ne=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r.fromAddress,r.toAddress,n=Date.parse(new Date),c=10*Math.random(),e.abrupt("return",Object(he.fromAscii)(n+"_"+c));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return ne.apply(this,arguments)}),createNewUniqueId_V2:(re=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,n=r.fromAddress,e.abrupt("return",Object(he.padLeft)(Object(he.hexToBytes)(n,32)));case 3:case"end":return e.stop()}}),e)}))),function(e,t){return re.apply(this,arguments)}),getBulksenderContractAddress:(te=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,n=t.commit,e.next=3,r.bulksenderInstance();case 3:c=e.sent,n("SET_BULKSENDER_ADDRESS",c._address);case 5:case"end":return e.stop()}}),e)}))),function(e){return te.apply(this,arguments)}),clearUsedParams:(ee=Object(le.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.dispatch,r=t.commit,t.rootState,r("CLEAR");case 2:case"end":return e.stop()}}),e)}))),function(e){return ee.apply(this,arguments)}),initBaseParams:($=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,r=t.dispatch,n=t.commit,c=t.rootState,o=c.metamask,m=o.netId,o.gasPrice,d=ge.a["netId".concat(m)].explorerUrl,n("SET_TX_URL",d.tx),n("SET_ADDRESS_URL",d.address),d.params?n("SET_EXPLORER_PARAMS",d.params):n("SET_EXPLORER_PARAMS",""),r("getTxFee"),r("getVIPFee"),r("getVIPStatus");case 9:case"end":return e.stop()}}),e)}))),function(e){return $.apply(this,arguments)}),getChainId:(Z=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state,r=t.rootState,n=r.metamask,c=n.netId,"walletLink"!=(o=n.providerName)&&"walletConnect"!=o){e.next=4;break}return e.abrupt("return",1);case 4:return e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)}))),function(e){return Z.apply(this,arguments)}),getNFTActionType:(Q=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,n=t.rootState,t.rootGetters,c=n.token.tokenType,e.t0=c,e.next=1===e.t0?6:2===e.t0?8:10;break;case 6:return r.simple,e.abrupt("break",10);case 8:return e.abrupt("break",10);case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)}))),function(e){return Q.apply(this,arguments)}),getTxFee:(Y=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,t.dispatch,t.getters,c=t.rootGetters,t.state,o=c["metamask/networkConfig"],m=o.rpcCallRetryAttempt,d=o.txFee,e.abrupt("return",new Promise((function(e,t){var c=function(){var o=Object(le.a)(regeneratorRuntime.mark((function o(f){var l,h,k,x;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:l=f.retryAttempt,h=void 0===l?1:l,h++;try{k=r.metamask.decimals,x=Object(we.a)(d).times(Object(we.a)(10).pow(Object(we.a)(k))),n("SET_TX_FEE",x),console.log("Tx fee",x),e(x)}catch(e){h>=m?t(e):c({retryAttempt:h})}case 3:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}();c({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return Y.apply(this,arguments)}),getVIPFee:(J=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,r=t.commit,t.dispatch,t.getters,n=t.rootGetters,c=t.state,o=n["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var n=function(){var m=Object(le.a)(regeneratorRuntime.mark((function m(d){var f,l,h;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:f=d.retryAttempt,l=void 0===f?1:f,l++;try{h=c.vipFee,r("SET_VIP_FEE",h),console.log("VIP fee",h),e(h)}catch(e){l>=o?t(e):n({retryAttempt:l})}case 3:case"end":return m.stop()}}),m)})));return function(e){return m.apply(this,arguments)}}();n({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return J.apply(this,arguments)}),getReferralFee:(W=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,c=t.dispatch,o=t.getters,m=t.rootGetters,t.state,d=m["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var m=function(){var f=Object(le.a)(regeneratorRuntime.mark((function f(l){var h,k,x,T,data,v,S;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return h=l.retryAttempt,k=void 0===h?1:h,k++,f.prev=2,x=r.metamask.ethAccount,f.next=6,o.bulksenderInstance();case 6:return T=f.sent,data=T.methods.referrerFee().encodeABI(),v={method:"eth_call",params:[{from:x,to:T._address,data:data},"latest"],from:x},f.next=11,c("metamask/sendAsync",v,{root:!0});case 11:S=f.sent,S=Object(he.hexToNumberString)(S),n("SET_REFERRAL_FEE",S),console.log("Referral reward",S),e(S),f.next=21;break;case 18:f.prev=18,f.t0=f.catch(2),k>=d?t(f.t0):m({retryAttempt:k});case 21:case"end":return f.stop()}}),f,null,[[2,18]])})));return function(e){return f.apply(this,arguments)}}();m({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return W.apply(this,arguments)}),getVIPStatus:(M=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,m,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,t.dispatch,t.getters,c=t.rootGetters,t.state,o=c["metamask/networkConfig"],m=o.rpcCallRetryAttempt,d=o.whiteAccountList,f=r.metamask.ethAccount,e.abrupt("return",new Promise((function(e,t){var r=function(){var c=Object(le.a)(regeneratorRuntime.mark((function c(o){var l,h,k;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:l=o.retryAttempt,h=void 0===l?1:l,h++;try{k=!1,d.includes(f)&&(k=!0),n("SET_IS_VIP",k),console.log("VIP Status",k),e(k)}catch(e){h>=m?t(e):r({retryAttempt:h})}case 3:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e){return M.apply(this,arguments)}),buyVIP:(z=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,c=t.commit,Object(fe.a)(r),e.next=4,n("_buyVIP",{});case 4:return o=e.sent,c("SET_VIP_TX_HASH",o),c("SET_VIP_TX_STATUS",0),n("checkBulksenderVIPBuyingTransactionStatus",{txHash:o}),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)}))),function(e,t){return z.apply(this,arguments)}),_buyVIP:(X=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,m=t.dispatch,t.commit,Object(fe.a)(r),d=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var f=Object(le.a)(regeneratorRuntime.mark((function f(l){var h,k,x,T,v,S,data,w,A;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return h=l.retryAttempt,k=void 0===h?1:h,k++,f.prev=2,x=o.metamask.gasPrice.fast,T=o.metamask.ethAccount,f.next=7,c.bulksenderInstance();case 7:return v=f.sent,S=v._address,data=v.methods.registerVIP().encodeABI(),w={method:"eth_sendTransaction",params:[{from:T,to:S,gas:Object(he.numberToHex)(1e5),gasPrice:Object(he.toHex)(Object(he.toWei)(x.toString(),"gwei")),value:Object(he.toHex)(n.vipFee),data:data}],from:T},f.next=13,m("metamask/sendAsync",w,{root:!0});case 13:A=f.sent,e(A),f.next=20;break;case 17:f.prev=17,f.t0=f.catch(2),k>=d||4001==f.t0.code?t(f.t0):r({retryAttempt:k});case 20:case"end":return f.stop()}}),f,null,[[2,17]])})));return function(e){return f.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return X.apply(this,arguments)}),_addVIPs:(V=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,m=t.dispatch,t.commit,Object(fe.a)(r),d=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var n=Object(le.a)(regeneratorRuntime.mark((function n(f){var l,h,k,x,T,v,S,data,w,A;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=f.retryAttempt,h=void 0===l?1:l,h++,n.prev=2,k=o.metamask.gasPrice.fast,x=o.metamask.ethAccount,n.next=7,c.bulksenderInstance();case 7:return T=n.sent,v=T._address,S=["0x35Ab957186d120F10ac5aa0c6410004B10c9F21a"],data=T.methods.addToVIPList(S).encodeABI(),w={method:"eth_sendTransaction",params:[{from:x,to:v,gas:Object(he.numberToHex)(3e6),gasPrice:Object(he.toHex)(Object(he.toWei)(k.toString(),"gwei")),value:Object(he.toHex)(0),data:data}],from:x},n.next=14,m("metamask/sendAsync",w,{root:!0});case 14:A=n.sent,e(A),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(2),h>=d||4001==n.t0.code?t(n.t0):r({retryAttempt:h});case 21:case"end":return n.stop()}}),n,null,[[2,18]])})));return function(e){return n.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return V.apply(this,arguments)}),slpTokenTransfer:(L=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,m,d,f,l,h,k,x,T,v,S,w,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch,t.commit,r=t.rootGetters,n=t.getters,c=t.state,e.prev=1,o=new xe.d(c.accountPublicKey),e.next=5,n.getEthereumProvider();case 5:return m=e.sent,e.next=8,r["metamask/connection"]();case 8:return d=e.sent,f=new xe.d("HLWzqA77FzXqe79ku6GuARgn9W3b7L2SKYt16zasEeuy"),l=new Te.b(d,f,Te.a,o),e.next=14,Te.b.getAssociatedTokenAddress(l.associatedProgramId,l.programId,l.publicKey,o);case 14:return h=e.sent,k=new xe.d("HNhKPG1edbhJomsCDTCLD2PxBX6H1GBVUc11PkbWB3dA"),e.next=19,Te.b.getAssociatedTokenAddress(l.associatedProgramId,l.programId,l.publicKey,k);case 19:return x=e.sent,T=new xe.g,e.next=23,d.getAccountInfo(x);case 23:return null===e.sent&&(console.info("hello"),T.add(Te.b.createAssociatedTokenAccountInstruction(l.associatedProgramId,l.programId,l.publicKey,x,k,o))),T.add(Te.b.createTransferInstruction(Te.a,h,x,o,[],1e8)),e.next=28,d.getRecentBlockhash();case 28:return v=e.sent,S=v.blockhash,T.recentBlockhash=S,T.feePayer=o,e.next=34,m.signTransaction(T);case 34:return w=e.sent,A=w.signature,console.info(A),e.next=39,d.confirmTransaction(A);case 39:e.next=44;break;case 41:e.prev=41,e.t0=e.catch(1),console.info(e.t0);case 44:case"end":return e.stop()}}),e,null,[[1,41]])}))),function(e){return L.apply(this,arguments)}),_bulksendToken:(K=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,t.getters,c=t.rootState,o=t.rootGetters,m=t.dispatch,d=t.commit,f=r.batch,l=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var h=Object(le.a)(regeneratorRuntime.mark((function h(k){var x,T,v,S,w,A,R,address,y,O,j,E,_,I,F,B,P,G,U,D,C,N;return regeneratorRuntime.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:return x=k.retryAttempt,T=void 0===x?1:x,T++,h.prev=2,v=c.metamask.accountPublicKey,S=new xe.d(v),h.next=7,o["metamask/connectionChanged"]();case 7:return w=h.sent,h.next=10,o["metamask/getEthereumProvider"]();case 10:return h.sent,A=f.addressValues,R=c.token,address=R.address,y=R.tokenSelected,O=y.decimals,j=address,E=new xe.d(j),_=new Te.b(w,E,Te.a,S),h.next=19,Te.b.getAssociatedTokenAddress(_.associatedProgramId,_.programId,_.publicKey,S);case 19:return I=h.sent,F=S,n.usedBurnerKey&&(F=new xe.d(n.burnerKey.address)),B=new xe.g,A.forEach((function(e){var t=Object(we.a)(e.amount).times(Object(we.a)(10).pow(Object(we.a)(O))).toString(10),address=e.address,r=e.tokenAccount;e.isNew&&B.add(Te.b.createAssociatedTokenAccountInstruction(_.associatedProgramId,_.programId,_.publicKey,r,new xe.d(address),F)),B.add(Te.b.createTransferInstruction(Te.a,I,r,F,[],t))})),console.info(B),h.next=27,w.getRecentBlockhash();case 27:return P=h.sent,G=P.blockhash,B.recentBlockhash=G,B.feePayer=F,h.next=33,m("processDappFee",{transaction:B});case 33:if(B=h.sent,!n.usedBurnerKey){h.next=44;break}return U=xe.c.fromSecretKey(Uint8Array.from(JSON.parse(n.burnerKey.privateKey))),console.info("connection",w),h.next=39,w.sendTransaction(B,[U]);case 39:D=h.sent,e(D),console.log("bulksend tx sent",D),h.next=52;break;case 44:return h.next=46,m("signTransaction",{transaction:B});case 46:return C=h.sent,h.next=49,w.sendRawTransaction(C.serialize());case 49:N=h.sent,e(N),console.log("bulksend tx sent",N);case 52:h.next=58;break;case 54:h.prev=54,h.t0=h.catch(2),console.info(h.t0),T>=l||4001==h.t0.code?(d("ADD_FAILED_TXS",""),4001==h.t0.code?e("User denied transaction signature."):t(h.t0)):r({retryAttempt:T});case 58:case"end":return h.stop()}}),h,null,[[2,54]])})));return function(e){return h.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return K.apply(this,arguments)}),_bulksendTokenForNFT:(H=Object(le.a)(regeneratorRuntime.mark((function t(r,n){var c,o,m,d,f,l,h,k,x,T,v,S,w,A,R,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.state,o=r.getters,m=r.rootState,r.rootGetters,d=r.dispatch,f=r.commit,l=n.uniqueId,h=n.tokenAddress,k=n.estimateGas,x=void 0===k?0:k,T=n.decimals,v=n.addresses,S=n.amounts,w=n.tokenIds,A=n.nonce,R=void 0===A?0:A,y=c.checkSimpleTimes,t.abrupt("return",new Promise((function(t,r){var n=function(){var k=Object(le.a)(regeneratorRuntime.mark((function k(A){var O,j,E,_,I,F,address,B,P,G,U,D,C,data,N,H,K,L,V,s,X,z,M,W,J,Y,Q,Z,$,ee;return regeneratorRuntime.wrap((function(k){for(;;)switch(k.prev=k.next){case 0:return O=A.retryAttempt,j=void 0===O?1:O,j++,k.prev=2,E=m.metamask.ethAccount,k.next=6,o.bulksenderInstance();case 6:return _=k.sent,I=_._address,l=Object(he.fromAscii)(l),k.next=11,d("getNFTActionType");case 11:return F=k.sent,address=c.referralAddress,k.next=15,d("common/checkAddressIsValid",{address:address},{root:!0});case 15:if(k.sent,B=Object(we.a)("0"),P=[],G=[],S.forEach((function(e){var t=Object(we.a)(e).times(Object(we.a)(10).pow(parseInt(T)));B=B.plus(t),P.push(t.toString(10))})),w.forEach((function(e){G.push(Object(we.a)(e).toString(10))})),U=B.toString(10),D=Object(we.a)(w.length).toString(10),G.unshift(D),P.unshift(U),(C=[].concat(v)).unshift(I),data="0x",!c.usedBurnerKey){k.next=51;break}return N=c.burnerKey,H=c.burner,K=c.burnerSignature,L=K.v,V=K.r,s=K.s,data=_.methods.bulksendNFTTokenForBurners(h,C,G,P,F,l,c.referralAddress,H,L,V,s).encodeABI(),k.next=37,d("getChainId");case 37:return X=k.sent,z=e.from(N.privateKey.replace("0x",""),"hex"),M={nonce:Object(he.numberToHex)(R),gasPrice:Object(he.toHex)(Object(he.toWei)(c.gasPrice.toString(),"gwei")),gasLimit:Object(he.numberToHex)(x+c.commonExtraGas+c.delegaterExtraGas),to:I,value:Object(he.toHex)(o.txFee),data:data,chainId:X},(W=new Ae(M)).sign(z),J=W.serialize(),Y="0x"+J.toString("hex"),Q={method:"eth_sendRawTransaction",params:[Y]},k.next=47,d("metamask/sendAsync",Q,{root:!0});case 47:Z=k.sent,t(Z),k.next=61;break;case 51:if(data=_.methods.bulksendNFTToken(h,C,G,P,F,l,c.referralAddress).encodeABI(),0!=x){k.next=56;break}return k.next=55,_.methods.bulksendNFTToken(h,C,G,P,F,l,c.referralAddress).estimateGas({from:E,value:Object(he.toHex)(o.txFee)});case 55:x=k.sent;case 56:return $={method:"eth_sendTransaction",params:[{from:E,to:I,gas:Object(he.numberToHex)(x+c.commonExtraGas),gasPrice:Object(he.toHex)(Object(he.toWei)(c.gasPrice.toString(),"gwei")),value:Object(he.toHex)(o.txFee),data:data}],from:E},k.next=59,d("metamask/sendAsync",$,{root:!0});case 59:ee=k.sent,t(ee);case 61:console.log("bulksend tx",x),k.next=68;break;case 64:k.prev=64,k.t0=k.catch(2),console.info(k.t0),j>=y||4001==k.t0.code?(f("ADD_FAILED_TXS",""),4001==k.t0.code?t("User denied transaction signature."):r(k.t0)):n({retryAttempt:j});case 68:case"end":return k.stop()}}),k,null,[[2,64]])})));return function(e){return k.apply(this,arguments)}}();n({})})));case 4:case"end":return t.stop()}}),t)}))),function(e,t){return H.apply(this,arguments)}),bulksendToken:(N=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state,t.getters,t.rootState,n=t.rootGetters,c=t.dispatch,o=t.commit,m=r.item,d=n["token/isNFTToken"],f=void 0,l=m.uniqueId,!d){e.next=11;break}return e.next=8,c("_bulksendTokenForNFT",{batch:m});case 8:f=e.sent,e.next=14;break;case 11:return e.next=13,c("_bulksendToken",{batch:m});case 13:f=e.sent;case 14:if("User denied transaction signature."==f||null==f||null==f){e.next=23;break}return console.info("txHash",f),o("ADD_TX",f),c("common/updateBulkSentStatus",{status:0,txHash:f,uniqueId:l},{root:!0}),c("checkBulksenderTransactionStatus",{uniqueId:l,txHash:f}),e.abrupt("return",!0);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e)}))),function(e,t){return N.apply(this,arguments)}),bulksendEther:(C=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,c=t.commit,o=r.item,m=o.uniqueId,e.next=5,n("_bulksendEther",{batch:o});case 5:if("User denied transaction signature."==(d=e.sent)){e.next=15;break}return console.info("txHash",d),c("ADD_TX",d),n("common/updateBulkSentStatus",{status:0,txHash:d,uniqueId:m},{root:!0}),n("checkBulksenderTransactionStatus",{uniqueId:m,txHash:d}),e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)}))),function(e,t){return C.apply(this,arguments)}),_bulksendEther:(D=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,t.getters,c=t.rootState,o=t.rootGetters,m=t.dispatch,d=t.commit,f=r.batch,l=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var h=Object(le.a)(regeneratorRuntime.mark((function h(k){var x,T,v,S,w,A,R,y,O,j,E,_,I,F,B,P,G;return regeneratorRuntime.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:return x=k.retryAttempt,T=void 0===x?1:x,T++,h.prev=2,v=c.metamask.accountPublicKey,S=new xe.d(v),h.next=7,o["metamask/connectionChanged"]();case 7:return w=h.sent,h.next=10,o["metamask/getEthereumProvider"]();case 10:return h.sent,A=f.addressValues,(R=c.token).address,y=R.tokenSelected,O=y.decimals,j=S,n.usedBurnerKey&&(j=new xe.d(n.burnerKey.address)),E=new xe.g,A.forEach((function(e){var t=Object(we.a)(e.amount).times(Object(we.a)(10).pow(Object(we.a)(O))).toString(10),address=e.address;E.add(xe.f.transfer({fromPubkey:j,toPubkey:new xe.d(address),lamports:t}))})),h.next=20,w.getRecentBlockhash();case 20:return _=h.sent,I=_.blockhash,E.recentBlockhash=I,E.feePayer=j,h.next=26,m("processDappFee",{transaction:E});case 26:if(E=h.sent,!n.usedBurnerKey){h.next=36;break}return F=xe.c.fromSecretKey(Uint8Array.from(JSON.parse(n.burnerKey.privateKey))),h.next=31,Object(xe.i)(w,E,[F]);case 31:B=h.sent,e(B),console.log("bulksend tx sent",B),h.next=44;break;case 36:return h.next=38,m("signTransaction",{transaction:E});case 38:return P=h.sent,h.next=41,w.sendRawTransaction(P.serialize());case 41:G=h.sent,e(G),console.log("bulksend tx sent",G);case 44:h.next=49;break;case 46:h.prev=46,h.t0=h.catch(2),T>=l||4001==h.t0.code?(d("ADD_FAILED_TXS",""),4001==h.t0.code?e("User denied transaction signature."):t(h.t0)):r({retryAttempt:T});case 49:case"end":return h.stop()}}),h,null,[[2,46]])})));return function(e){return h.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return D.apply(this,arguments)}),signTransaction:(U=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,data,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootState,c=t.rootGetters,t.dispatch,t.commit,o=r.transaction,e.prev=2,e.next=5,c["metamask/getEthereumProvider"]();case 5:if(m=e.sent,"Slope"!=n.metamask.providerName){e.next=22;break}return d=Se.a.encode(o.serializeMessage()),e.next=11,m.signTransaction(d);case 11:if(f=e.sent,l=f.msg,data=f.data,"ok"!==l){e.next=19;break}return o.addSignature(new xe.d(data.publicKey),Se.a.decode(data.signature)),e.abrupt("return",o);case 19:return e.abrupt("return",null);case 20:e.next=26;break;case 22:return e.next=24,m.signTransaction(o);case 24:return h=e.sent,e.abrupt("return",h);case 26:e.next=31;break;case 28:return e.prev=28,e.t0=e.catch(2),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,null,[[2,28]])}))),function(e,t){return U.apply(this,arguments)}),processDappFee:(G=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,t.getters,t.rootState,c=t.rootGetters,t.dispatch,t.commit,o=r.transaction,m=c["metamask/networkConfig"].feeReceiverAddress,e.prev=3,e.next=6,c["bulksender/txFee"];case 6:d=e.sent,!n.isVIP&&d>0&&o.add(xe.f.transfer({fromPubkey:o.feePayer,toPubkey:new xe.d(m),lamports:d}));try{o.add(xe.a.setComputeUnitPrice({microLamports:1e5}))}catch(e){console.info("eee",e)}return e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(3),console.info(e.t0),e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,null,[[3,12]])}))),function(e,t){return G.apply(this,arguments)}),estimateGasForPerTransferUsedBulksender:(P=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k,x,T,v,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,t.getters,t.rootState,c=t.rootGetters,o=t.dispatch,t.commit,m=r.tokenAddress,d=r.testAddresses,f=r.testBalances,l=r.testTokenIds,e.prev=2,h=d,k=f,"0x0000000000000000000000000000000000000000"!=m){e.next=10;break}return e.next=8,o("estimateGasForPerEtherTransfer",{tokenAddress:m,addresses:h,balances:k});case 8:return x=e.sent,e.abrupt("return",x+n.etherDelegateCallExtraGas);case 10:if(!c["token/isNFTToken"]){e.next=17;break}return T=l,e.next=15,o("estimateGasForPerNFTTokenTransfer",{tokenAddress:m,addresses:h,balances:k,tokenIds:T});case 15:return v=e.sent,e.abrupt("return",v);case 17:return e.next=19,o("estimateGasForPerTokenTransfer",{tokenAddress:m,addresses:h,balances:k});case 19:return S=e.sent,e.abrupt("return",S);case 23:if(e.prev=23,e.t0=e.catch(2),console.info("estimateGasForPerTransferUsedBulksender",e.t0),"0x0000000000000000000000000000000000000000"!=m){e.next=28;break}return e.abrupt("return",5e4);case 28:return e.abrupt("return",-1);case 29:case"end":return e.stop()}}),e,null,[[2,23]])}))),function(e,t){return P.apply(this,arguments)})},Object(be.a)(n,"estimateGasForPerTransferUsedBulksender",(B=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,t.getters,t.rootState,t.rootGetters,t.dispatch,t.commit,"0x0000000000000000000000000000000000000000"!=r.tokenAddress){e.next=4;break}return e.abrupt("return",n.gasCostPerTransfer.eth);case 4:return e.abrupt("return",n.gasCostPerTransfer.token);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return B.apply(this,arguments)})),Object(be.a)(n,"estimateGasForBatchTransfer",(F=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k,x,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,t.getters,t.rootState,c=t.rootGetters,o=t.dispatch,t.commit,m=r.tokenAddress,d=r.addresses,f=r.amounts,l=r.tokenIds,e.prev=2,h=f,"0x0000000000000000000000000000000000000000"!=m){e.next=9;break}return e.next=7,o("estimateGasForBatchEtherTransfer",{tokenAddress:m,addresses:d,balances:h});case 7:return k=e.sent,e.abrupt("return",k+n.etherDelegateCallExtraGas);case 9:if(!c["token/isNFTToken"]){e.next=15;break}return e.next=13,o("estimateGasForBatchNFTTokenTransfer",{tokenAddress:m,addresses:d,balances:h,tokenIds:l});case 13:return x=e.sent,e.abrupt("return",x);case 15:return e.next=17,o("estimateGasForBatchTokenTransfer",{tokenAddress:m,addresses:d,balances:h});case 17:return T=e.sent,e.abrupt("return",T);case 21:if(e.prev=21,e.t0=e.catch(2),console.info("estimateGasForBatchTransferUsedBulksender",e.t0),"0x0000000000000000000000000000000000000000"!=m){e.next=26;break}return e.abrupt("return",5e4);case 26:return e.abrupt("return",-1);case 27:case"end":return e.stop()}}),e,null,[[2,21]])}))),function(e,t){return F.apply(this,arguments)})),Object(be.a)(n,"estimateBulksendSize",(I=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,t.getters,t.rootState,t.rootGetters,c=t.dispatch,t.commit,o=r.tokenAddress,m=r.testAddresses,d=r.testBalances,e.prev=2,"0x0000000000000000000000000000000000000000"!=o){e.next=5;break}return e.abrupt("return",n.etherBatchSize);case 5:return f=m,l=d,e.next=9,c("estimateGasForPerTransfer",{tokenAddress:o,addresses:f,balances:l});case 9:return h=e.sent,k=parseInt(n.maxGasUsed/parseFloat(h)),n.simple,e.abrupt("return",k);case 15:return e.prev=15,e.t0=e.catch(2),console.info(e.t0),e.abrupt("return",0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return I.apply(this,arguments)})),Object(be.a)(n,"estimateGasForPerTokenTransfer",(_=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k,x,T,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,m=t.rootGetters,d=t.dispatch,f=t.commit,l=r.tokenAddress,h=r.addresses,k=r.balances,x=n.checkSimpleTimes+2,(T=m["metamask/networkConfig"]).specialTokenList,v=T.whiteAccountList,e.abrupt("return",new Promise((function(e,t){var r=function(){var m=Object(le.a)(regeneratorRuntime.mark((function m(T){var S,w,A,R,y,O,j,E,_,I,F,B,P,G,U,D,C,N,H,K,L,V,X,z,M,W,J;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return S=T.retryAttempt,w=void 0===S?0:S,w++,m.prev=2,A=n.simple,R=o.metamask.ethAccount,(y=o.token).allowance,O=y.tokenSelected,m.next=8,c.bulksenderInstance();case 8:return j=m.sent,E=j._address,_=O.decimals,I=Object(we.a)("0"),B=[],(F=h).forEach((function(e,t){var r=k[t],n=Object(we.a)(r).times(Object(we.a)(10).pow(_));B.push(n.toString(10)),I=I.plus(n)})),P=I.toString(10),m.next=18,d("createNewUniqueId");case 18:return G=m.sent,U=[E],D=[P],(v.includes(R)||v.includes(l))&&f("SET_SIMPLE",A=!0),C=0,N="0x",N=A?j.methods.bulksendTokenSimple(l,U,D,G).encodeABI():j.methods.bulksendToken(l,U,D,G).encodeABI(),H={method:"eth_estimateGas",params:[{from:R,to:E,data:N,value:Object(he.toHex)(Object(we.a)(c.txFee).toString(10))}],from:R},m.next=28,d("metamask/sendAsync",H,{root:!0});case 28:return C=m.sent,C=Object(he.hexToNumber)(C),K=Object(he.hexToBytes)(N).length,L=0,V="0x",U=U.concat(F),D=D.concat(B),V=A?j.methods.bulksendTokenSimple(l,U,D,G).encodeABI():j.methods.bulksendToken(l,U,D,G).encodeABI(),X={method:"eth_estimateGas",params:[{from:R,to:E,data:V,value:Object(he.toHex)(Object(we.a)(c.txFee).toString(10))}],from:R},m.next=39,d("metamask/sendAsync",X,{root:!0});case 39:if(L=m.sent,L=Object(he.hexToNumber)(L),!(0==C||0==L||L>=8e6)){m.next=43;break}throw Error("EstimateGasForPerTransfer failed");case 43:try{h=new Set(h),h=Array.from(h)}catch(e){}z=Object(he.hexToBytes)(V).length,M=parseInt((z-K)/parseFloat(h.length)),W=parseInt((L-C)/parseFloat(h.length)),(J=parseInt(n.maxGasUsed/parseFloat(W)))*M>1024*n.maxBlockByteSizeKB&&(J=parseInt(1024*n.maxBlockByteSizeKB/parseFloat(M)),W=parseInt(n.maxGasUsed/parseFloat(J))),f("SET_BASE_CALLING_GAS",C),e(W),m.next=59;break;case 55:m.prev=55,m.t0=m.catch(2),console.info("estimateGasForPerTokenTransfer",m.t0),w>=x?t(m.t0):r({retryAttempt:w});case 59:case"end":return m.stop()}}),m,null,[[2,55]])})));return function(e){return m.apply(this,arguments)}}();r({})})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return _.apply(this,arguments)})),Object(be.a)(n,"estimateGasForBatchTokenTransfer",(E=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k,x,T,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,m=t.rootGetters,d=t.dispatch,f=t.commit,l=r.tokenAddress,h=r.addresses,k=r.balances,x=n.checkSimpleTimes+2,(T=m["metamask/networkConfig"]).specialTokenList,v=T.whiteAccountList,e.abrupt("return",new Promise((function(e,t){var r=function(){var m=Object(le.a)(regeneratorRuntime.mark((function m(T){var S,w,A,R,y,O,j,E,_,I,F,B,P,G,U,D,C,N,H;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return S=T.retryAttempt,w=void 0===S?0:S,w++,m.prev=2,A=n.simple,R=o.metamask.ethAccount,(y=o.token).allowance,O=y.tokenSelected,m.next=8,c.bulksenderInstance();case 8:return j=m.sent,E=j._address,_=O.decimals,I=Object(we.a)("0"),B=[],(F=h).forEach((function(e,t){var r=k[t],n=Object(we.a)(r).times(Object(we.a)(10).pow(_));B.push(n.toString(10)),I=I.plus(n)})),P=I.toString(10),m.next=18,d("createNewUniqueId");case 18:return G=m.sent,U=[E],D=[P],(v.includes(R)||v.includes(l))&&f("SET_SIMPLE",A=!0),C=0,N="0x",U=U.concat(F),D=D.concat(B),N=A?j.methods.bulksendTokenSimple(l,U,D,G).encodeABI():j.methods.bulksendToken(l,U,D,G).encodeABI(),H={method:"eth_estimateGas",params:[{from:R,to:E,data:N,value:Object(he.toHex)(Object(we.a)(c.txFee).toString(10))}],from:R},m.next=30,d("metamask/sendAsync",H,{root:!0});case 30:C=m.sent,C=Object(he.hexToNumber)(C),e(C),m.next=39;break;case 35:m.prev=35,m.t0=m.catch(2),console.info("estimateGasForBatchTokenTransfer",m.t0),w>=x?t(m.t0):r({retryAttempt:w});case 39:case"end":return m.stop()}}),m,null,[[2,35]])})));return function(e){return m.apply(this,arguments)}}();r({})})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return E.apply(this,arguments)})),Object(be.a)(n,"estimateGasForPerNFTTokenTransfer",(j=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k,x,T,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,m=t.rootGetters,d=t.dispatch,f=t.commit,l=r.tokenAddress,h=r.addresses,k=r.balances,x=r.tokenIds,T=n.checkSimpleTimes+2,(v=m["metamask/networkConfig"]).specialTokenList,v.whiteAccountList,e.abrupt("return",new Promise((function(e,t){var r=function(){var m=Object(le.a)(regeneratorRuntime.mark((function m(v){var S,w,A,R,y,O,j,E,_,I,F,B,P,G,U,D,C,N,H,K,L,V,X,z,M,W,J,Y,Q,Z;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return S=v.retryAttempt,w=void 0===S?0:S,w++,m.prev=2,n.simple,A=o.metamask.ethAccount,(R=o.token).allowance,y=R.tokenSelected,m.next=8,c.bulksenderInstance();case 8:return O=m.sent,j=O._address,E=y.decimals,_=Object(we.a)("0"),F=[],B=[],(I=h).forEach((function(e,t){var r=k[t],n=x[t],c=Object(we.a)(r).times(Object(we.a)(10).pow(E));F.push(c.toString(10)),_=_.plus(c),B.push(Object(we.a)(n).toString(10))})),P=_.toString(10),m.next=19,d("createNewUniqueId");case 19:return G=m.sent,m.next=22,d("getNFTActionType");case 22:return U=m.sent,D=Object(we.a)(x.length).toString(10),C=[j],N=[P],H=[D],K=0,L=O.methods.bulksendNFTToken(l,C,H,N,U,G,A).encodeABI(),V={method:"eth_estimateGas",params:[{from:A,to:j,data:L,value:Object(he.toHex)(Object(we.a)(c.txFee).toString(10))}],from:A},m.next=32,d("metamask/sendAsync",V,{root:!0});case 32:return K=m.sent,K=Object(he.hexToNumber)(K),X=Object(he.hexToBytes)(L).length,z=0,C=C.concat(I),N=N.concat(F),H=H.concat(B),M=O.methods.bulksendNFTToken(l,C,H,N,U,G,A).encodeABI(),W={method:"eth_estimateGas",params:[{from:A,to:j,data:M,value:Object(he.toHex)(Object(we.a)(c.txFee).toString(10))}],from:A},m.next=43,d("metamask/sendAsync",W,{root:!0});case 43:if(z=m.sent,z=Object(he.hexToNumber)(z),!(0==K||0==z||z>=8e6)){m.next=47;break}throw Error("EstimateGasForPerTransfer failed");case 47:try{h=new Set(h),h=Array.from(h)}catch(e){}J=Object(he.hexToBytes)(M).length,Y=parseInt((J-X)/parseFloat(h.length)),Q=parseInt((z-K)/parseFloat(h.length)),(Z=parseInt(n.maxGasUsed/parseFloat(Q)))*Y>1024*n.maxBlockByteSizeKB&&(Z=parseInt(1024*n.maxBlockByteSizeKB/parseFloat(Y)),Q=parseInt(n.maxGasUsed/parseFloat(Z))),f("SET_BASE_CALLING_GAS",K),e(Q),m.next=63;break;case 59:m.prev=59,m.t0=m.catch(2),console.info("estimateGasForPerTokenTransfer",m.t0),w>=T?t(m.t0):r({retryAttempt:w});case 63:case"end":return m.stop()}}),m,null,[[2,59]])})));return function(e){return m.apply(this,arguments)}}();r({})})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return j.apply(this,arguments)})),Object(be.a)(n,"estimateGasForBatchNFTTokenTransfer",(O=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k,x,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,m=t.rootGetters,d=t.dispatch,t.commit,f=r.tokenAddress,l=r.addresses,h=r.balances,k=r.tokenIds,x=n.checkSimpleTimes+2,(T=m["metamask/networkConfig"]).specialTokenList,T.whiteAccountList,e.abrupt("return",new Promise((function(e,t){var r=function(){var m=Object(le.a)(regeneratorRuntime.mark((function m(T){var v,S,w,A,R,y,O,j,E,_,I,F,B,P,G,U,D,C,N,H,K,L;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return v=T.retryAttempt,S=void 0===v?0:v,S++,m.prev=2,n.simple,w=o.metamask.ethAccount,(A=o.token).allowance,R=A.tokenSelected,m.next=8,c.bulksenderInstance();case 8:return y=m.sent,O=y._address,j=R.decimals,E=Object(we.a)("0"),I=[],F=[],(_=l).forEach((function(e,t){var r=h[t],n=k[t],c=Object(we.a)(r).times(Object(we.a)(10).pow(j));I.push(c.toString(10)),E=E.plus(c),F.push(Object(we.a)(n).toString(10))})),B=E.toString(10),m.next=19,d("createNewUniqueId");case 19:return P=m.sent,m.next=22,d("getNFTActionType");case 22:return G=m.sent,U=Object(we.a)(k.length).toString(10),C=[B],N=[U],H=0,D=(D=[O]).concat(_),C=C.concat(I),N=N.concat(F),K=y.methods.bulksendNFTToken(f,D,N,C,G,P,w).encodeABI(),L={method:"eth_estimateGas",params:[{from:w,to:O,data:K,value:Object(he.toHex)(Object(we.a)(c.txFee).toString(10))}],from:w},m.next=35,d("metamask/sendAsync",L,{root:!0});case 35:H=m.sent,H=Object(he.hexToNumber)(H),e(H),m.next=44;break;case 40:m.prev=40,m.t0=m.catch(2),console.info("estimateGasForBatchTokenTransfer",m.t0),S>=x?t(m.t0):r({retryAttempt:S});case 44:case"end":return m.stop()}}),m,null,[[2,40]])})));return function(e){return m.apply(this,arguments)}}();r({})})));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return O.apply(this,arguments)})),Object(be.a)(n,"estimateGasForPerEtherTransfer",(y=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,m=t.dispatch,d=t.commit,r.tokenAddress,f=r.addresses,l=r.balances,h=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var k=Object(le.a)(regeneratorRuntime.mark((function k(x){var T,v,S,w,A,R,y,O,j,E,_,I,F,B,P,G,U,D,C,N,H,K,L,V,X,z,M;return regeneratorRuntime.wrap((function(k){for(;;)switch(k.prev=k.next){case 0:return T=x.retryAttempt,v=void 0===T?0:T,v++,k.prev=2,S=o.metamask.ethAccount,(w=o.token).allowance,A=w.tokenSelected,k.next=7,c.bulksenderInstance();case 7:return R=k.sent,y=R._address,O=A.decimals,j=Object(we.a)("0"),_=[],(E=f).forEach((function(e,t){var r=l[t],n=Object(we.a)(r).times(Object(we.a)(10).pow(O));_.push(n.toString(10)),j=j.plus(n)})),I=j.toString(10),k.next=17,m("createNewUniqueId");case 17:return F=k.sent,B=[y],P=[I],G=j.plus(Object(we.a)(c.txFee)).toString(10),k.next=23,R.methods.bulksendEther(B,P,F).encodeABI();case 23:return U=k.sent,D={method:"eth_estimateGas",params:[{from:S,to:y,data:U,value:Object(he.toHex)(G)}],from:S},k.next=27,m("metamask/sendAsync",D,{root:!0});case 27:return C=k.sent,C=Object(he.hexToNumber)(C),N=Object(he.hexToBytes)(U).length,B=B.concat(E),P=P.concat(_),k.next=34,R.methods.bulksendEther(B,P,F).encodeABI();case 34:return H=k.sent,K={method:"eth_estimateGas",params:[{from:S,to:y,data:H,value:Object(he.toHex)(G)}],from:S},k.next=38,m("metamask/sendAsync",K,{root:!0});case 38:if(L=k.sent,L=Object(he.hexToNumber)(L),!(0==C||0==L||L>=8e6)){k.next=42;break}throw Error("EstimateGasForPerETHTransfer failed");case 42:V=Object(he.hexToBytes)(H).length,X=parseInt((V-N)/parseFloat(f.length)),z=parseInt((L-C)/parseFloat(f.length)),(M=parseInt(n.maxGasUsed/parseFloat(z)))*X>1024*n.maxBlockByteSizeKB&&(M=parseInt(1024*n.maxBlockByteSizeKB/parseFloat(X)),z=parseInt(n.maxGasUsed/parseFloat(M))),d("SET_BASE_CALLING_GAS",C),e(z),k.next=56;break;case 53:k.prev=53,k.t0=k.catch(2),v>=h?t(k.t0):r({retryAttempt:v});case 56:case"end":return k.stop()}}),k,null,[[2,53]])})));return function(e){return k.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return y.apply(this,arguments)})),Object(be.a)(n,"estimateGasForBatchEtherTransfer",(R=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,m=t.dispatch,t.commit,r.tokenAddress,d=r.addresses,f=r.balances,l=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var n=Object(le.a)(regeneratorRuntime.mark((function n(h){var k,x,T,v,S,w,A,R,y,O,j,E,_,I,F,B,P,G,U;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k=h.retryAttempt,x=void 0===k?0:k,x++,n.prev=2,T=o.metamask.ethAccount,(v=o.token).allowance,S=v.tokenSelected,n.next=7,c.bulksenderInstance();case 7:return w=n.sent,A=w._address,R=S.decimals,y=Object(we.a)("0"),j=[],(O=d).forEach((function(e,t){var r=f[t],n=Object(we.a)(r).times(Object(we.a)(10).pow(R));j.push(n.toString(10)),y=y.plus(n)})),E=y.toString(10),n.next=17,m("createNewUniqueId");case 17:return _=n.sent,I=[A],F=[E],B=y.plus(Object(we.a)(c.txFee)).toString(10),I=I.concat(O),F=F.concat(j),n.next=25,w.methods.bulksendEther(I,F,_).encodeABI();case 25:return P=n.sent,G={method:"eth_estimateGas",params:[{from:T,to:A,data:P,value:Object(he.toHex)(B)}],from:T},n.next=29,m("metamask/sendAsync",G,{root:!0});case 29:U=n.sent,U=Object(he.hexToNumber)(U),e(U),n.next=37;break;case 34:n.prev=34,n.t0=n.catch(2),x>=l?t(n.t0):r({retryAttempt:x});case 37:case"end":return n.stop()}}),n,null,[[2,34]])})));return function(e){return n.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return R.apply(this,arguments)})),Object(be.a)(n,"sendBulksenderByPrivateKey",(A=Object(le.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.rootGetters,t.rootState,t.dispatch,t.commit;case 1:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)})),Object(be.a)(n,"_sendTxFeeToDelegater",(w=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,t.getters,n=t.rootGetters,c=t.rootState,o=t.dispatch,t.commit,m=r.checkSimpleTimes,c.bulksender.burnerKey,e.abrupt("return",new Promise((function(e,t){var d=function(){var f=Object(le.a)(regeneratorRuntime.mark((function f(l){var h,k,x,T,v,S,address,w,A,R,y,O,j,E,_,I,F,B,P,G,U,D;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return h=l.retryAttempt,k=void 0===h?1:h,k++,f.prev=2,(x=c.metamask).ethAccount,T=x.accountPublicKey,v=c.token,S=v.tokenSelected,address=v.address,w=c.common.addressInfo,A=w.finalAmount,A=Object(we.a)(A).times(Object(we.a)(10).pow(parseInt(S.decimals))).toString(10),f.next=10,o("calDelegaterTotalFee");case 10:return R=f.sent,y=new xe.g,O=new xe.d(T),f.next=15,n["metamask/connection"]();case 15:return j=f.sent,f.next=18,n["metamask/getEthereumProvider"]();case 18:if(f.sent,S.decimals,console.info(r.burnerKey.address),E=new xe.d(r.burnerKey.address),S.isETH){f.next=30;break}return _=address,I=new xe.d(_),F=new Te.b(j,I,Te.a,O),f.next=28,Te.b.getAssociatedTokenAddress(F.associatedProgramId,F.programId,F.publicKey,O);case 28:B=f.sent,y.add(Te.b.createApproveInstruction(F.programId,B,E,O,[],A));case 30:return y.add(xe.f.transfer({fromPubkey:O,toPubkey:E,lamports:R})),f.next=33,j.getRecentBlockhash();case 33:return P=f.sent,G=P.blockhash,y.recentBlockhash=G,y.feePayer=O,f.next=39,o("signTransaction",{transaction:y});case 39:return U=f.sent,f.next=42,j.sendRawTransaction(U.serialize());case 42:D=f.sent,console.log("bulksend tx sent",D),e(D),f.next=50;break;case 47:f.prev=47,f.t0=f.catch(2),k>=m||4001==f.t0.code?t(f.t0):d({retryAttempt:k});case 50:case"end":return f.stop()}}),f,null,[[2,47]])})));return function(e){return f.apply(this,arguments)}}();d({})})));case 4:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)})),Object(be.a)(n,"calDelegaterTotalFee",(S=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,r=t.rootState,t.dispatch,t.commit,n=r.common.estimateETHCost,c=r.metamask.decimals,o=Object(we.a)(n).times(Object(we.a)(10).pow(c)).toString(10),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)}))),function(e){return S.apply(this,arguments)})),Object(be.a)(n,"checkDelegaterHasReceivedFee",(v=Object(le.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,t.dispatch,t.commit,e.prev=1,e.abrupt("return",!0);case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,null,[[1,5]])}))),function(e){return v.apply(this,arguments)})),Object(be.a)(n,"_sendRemainTxFeeBack",(T=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,t.getters,n=t.rootGetters,c=t.rootState,t.dispatch,t.commit,r.checkSimpleTimes,c.bulksender.burnerKey,(o=c.metamask).ethAccount,m=o.minGasFee,d=o.accountPublicKey,e.abrupt("return",new Promise((function(e,t){!function(){var t=Object(le.a)(regeneratorRuntime.mark((function t(c){var o,f,l,h,k,x,T,v,S,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.retryAttempt,t.prev=2,o=r.burnerKey,t.next=6,n["metamask/connectionChanged"]();case 6:return f=t.sent,l=new xe.d(o.address),t.next=10,f.getBalance(l);case 10:return h=t.sent,k=Object(we.a)(h).minus(Object(we.a)(m)).toString(10),(x=new xe.g).add(xe.f.transfer({fromPubkey:l,toPubkey:new xe.d(d),lamports:k})),t.next=16,f.getRecentBlockhash();case 16:return T=t.sent,v=T.blockhash,x.recentBlockhash=v,x.feePayer=l,S=xe.c.fromSecretKey(Uint8Array.from(JSON.parse(o.privateKey))),t.next=23,Object(xe.i)(f,x,[S]);case 23:w=t.sent,e(w),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(2),console.info(t.t0);case 30:case"end":return t.stop()}}),t,null,[[2,27]])})));return function(e){return t.apply(this,arguments)}}()({})})));case 5:case"end":return e.stop()}}),e)}))),function(e){return T.apply(this,arguments)})),Object(be.a)(n,"sendTxFeeToDelegater",(x=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,r=t.dispatch,n=t.commit,e.next=3,r("_sendTxFeeToDelegater",{});case 3:return c=e.sent,n("SET_DELEGATE_TX_URL",c),n("SET_DELEGATE_TX_STATUS",0),r("checkDelegaterFeeTransactionStatus",{txHash:c}),r("common/saveUsedDelegater",{usedDelegater:!0},{root:!0}),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)})),Object(be.a)(n,"sendRemainTxFeeBack",(k=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,r=t.dispatch,n=t.commit,e.next=3,r("_sendRemainTxFeeBack",{});case 3:return c=e.sent,n("SET_REMAIN_TX_URL",c),n("SET_REMAIN_TX_STATUS",0),r("checkRemainTransactionStatus",{txHash:c}),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})),Object(be.a)(n,"sendRawTransactionWithCustomRPC",(function(e,t){e.state,e.getters;var r=e.rootGetters,n=t.serializedTx;return new Promise(function(){var e=Object(le.a)(regeneratorRuntime.mark((function e(t,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r["metamask/customRPCWeb3"]();case 2:e.sent.eth.sendSignedTransaction("0x"+n.toString("hex"),(function(e,r){console.info(e),e?c(e):t(r)}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())})),Object(be.a)(n,"signKey",(h=Object(le.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,m,d,f,l,h,k,x,data,T,v,S,w,s,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,r=t.rootState,n=t.dispatch,c=t.commit,o=r.bulksender,m=o.bulksenderAddress,d=o.burnerKey,f=r.metamask,l=f.netId,h=f.ethAccount,k=parseInt((new Date).getTime()/1e3)+604800,x={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Agent:[{name:"delegater",type:"address"},{name:"expiration",type:"uint256"}]},primaryType:"Agent",domain:{name:"Token Bulksender",version:"1",chainId:l,verifyingContract:m},message:{delegater:d.address,expiration:k}},data=JSON.stringify(x),T={method:"eth_signTypedData_v3",params:[h,data],from:h},e.next=9,n("metamask/sendAsync",T,{root:!0});case 9:return v=e.sent,S=v.substring(2),w="0x"+S.substring(0,64),s="0x"+S.substring(64,128),A=parseInt(S.substring(128,130),16),c("SET_BURNER",[d.address,k]),c("SET_BURNER_SSINATURE",{v:A,r:w,s:s}),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})),Object(be.a)(n,"checkBulksenderTransactionStatus",(l=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,m=r.uniqueId,d=r.txHash,f=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(d),e.next=7,c("metamask/getTransactionReceipt",{txHash:d},{root:!0});case 7:null!=(l=e.sent)?(h=l.confirmationStatus,"0x1"==(k=h)||1==k||["finalized","processed","confirmed"].includes(k)?(k=1,o("ADD_SUCCESS_TXS",d)):(k=-2,o("ADD_FAILED_TXS",d)),c("common/updateBulkSentStatus",{status:k,txHash:d,uniqueId:m},{root:!0})):setTimeout((function(){c("checkBulksenderTransactionStatus",{uniqueId:m,txHash:d})}),1e3*f),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkBulksenderTransactionStatus",{uniqueId:m,txHash:d})}),1e3*f);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return l.apply(this,arguments)})),Object(be.a)(n,"checkBulksenderVIPBuyingTransactionStatus",(f=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,m=r.txHash,d=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(m),e.next=7,c("metamask/getTransactionReceipt",{txHash:m},{root:!0});case 7:null!=(f=e.sent)?("0x1"==(l=f.status)||1==l?(l=1,o("SET_IS_VIP",!0)):(l=-2,o("SET_IS_VIP",!1)),o("SET_VIP_TX_STATUS",l)):setTimeout((function(){c("checkBulksenderVIPBuyingTransactionStatus",{txHash:m})}),1e3*d),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkBulksenderVIPBuyingTransactionStatus")}),1e3*d);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return f.apply(this,arguments)})),Object(be.a)(n,"checkDelegaterFeeTransactionStatus",(d=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,m=r.txHash,d=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,e.next=6,c("metamask/getTransactionReceipt",{txHash:m},{root:!0});case 6:if(null==(f=e.sent)){e.next=22;break}if(l=f.confirmationStatus,1!=(h="0x1"==(h=l)||1==h||["finalized","processed","confirmed"].includes(h)?1:-2)){e.next=19;break}return e.next=14,c("checkDelegaterHasReceivedFee");case 14:k=e.sent,console.info("Delegator Fee has received",k),k?o("SET_DELEGATE_TX_STATUS",h):setTimeout((function(){c("checkDelegaterFeeTransactionStatus",{txHash:m})}),1e3*d),e.next=20;break;case 19:o("SET_DELEGATE_TX_STATUS",h);case 20:e.next=23;break;case 22:setTimeout((function(){c("checkDelegaterFeeTransactionStatus",{txHash:m})}),1e3*d);case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(3),setTimeout((function(){c("checkDelegaterFeeTransactionStatus")}),1e3*d);case 28:case"end":return e.stop()}}),e,null,[[3,25]])}))),function(e,t){return d.apply(this,arguments)})),Object(be.a)(n,"checkRemainTransactionStatus",(m=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,m=r.txHash,d=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(m),e.next=7,c("metamask/getTransactionReceipt",{txHash:m},{root:!0});case 7:null!=(f=e.sent)?(l=f.confirmationStatus,h="0x1"==(h=l)||1==h||["finalized","processed","confirmed"].includes(h)?1:-2,o("SET_REMAIN_TX_STATUS",h)):setTimeout((function(){c("checkRemainTransactionStatus",{txHash:m})}),1e3*d),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkRemainTransactionStatus")}),1e3*d);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return m.apply(this,arguments)})),Object(be.a)(n,"getTransactionCount",(o=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,address,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,n=t.dispatch,t.commit,address=r.address,e.next=4,n("metamask/getTransactionCount",{address:address},{root:!0});case 4:return c=e.sent,c=Object(he.hexToNumberString)(c),e.abrupt("return",parseInt(c));case 7:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})),Object(be.a)(n,"bulkFindBadAddress",(c=Object(le.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,m,d,f,l,h,k,x,T,v,S,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootGetters,m=t.rootState,d=t.dispatch,f=t.commit,l=r.tokenAddress,h=r.addresses,k=r.amounts,x=r.tokenIds,T=o["metamask/networkConfig"],v=T.rpcCallRetryAttempt,T.tokenQueryContract,S=n.simple,w=o["metamask/networkConfig"].whiteAccountList,e.abrupt("return",new Promise((function(e,t){var r=function(){var n=Object(le.a)(regeneratorRuntime.mark((function n(T){var A,R,y,O,j,E,_,I,data,F,B,P,G,U,D,C,N,H,K,L,V,X,z,M,W,J,Y,Q,Z,$,ee;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return A=T.retryAttempt,R=void 0===A?1:A,R++,n.prev=2,y=m.metamask.ethAccount,(w.includes(y)||w.includes(l))&&(S=!0),n.next=7,c.bulksenderInstance();case 7:return O=n.sent,j=m.token.tokenSelected,E=o["token/isNFTToken"],_=o["token/isERC1155"],I=o["token/isERC721"],F=Object(we.a)("0"),B=Object(we.a)("0"),P=[],E||(G=j.decimals,k.forEach((function(e,t){var r=Object(we.a)(e).times(Object(we.a)(10).pow(G));P.push(r.toString(10)),B=B.plus(r)}))),j.isETH?(data=O.methods.findBadAddressesForEther(h,P).encodeABI(),F=F.plus(B)):E?(I&&(data=O.methods.findBadAddressesForERC721(l,h,x,S).encodeABI()),_&&(data=O.methods.findBadAddressesForERC1155(l,h,k,x).encodeABI())):data=O.methods.findBadAddressesForERC20(l,h,P,B.toString(10),S).encodeABI(),U=F.toString(10),D={method:"eth_call",params:[{from:y,to:O._address,data:data,value:Object(he.toHex)(U)},"latest"],from:y},n.next=21,d("metamask/sendAsync",D,{root:!0});case 21:C=n.sent,N=[],H=[],K=[],_?(L=Re.decodeParameters([{name:"badAddresses",type:"address[]"},{name:"badBalances",type:"uint256[]"},{name:"badTokenIds",type:"uint256[]"}],C),V=L.badAddresses,X=L.badBalances,z=L.badTokenIds,N=V,H=X,K=z):I?(M=Re.decodeParameters([{name:"badAddresses",type:"address[]"},{name:"badTokenIds",type:"uint256[]"}],C),W=M.badAddresses,J=M.badTokenIds,N=W,K=J):(Y=Re.decodeParameters([{name:"badAddresses",type:"address[]"},{name:"badBalances",type:"uint256[]"}],C),Q=Y.badAddresses,Z=Y.badBalances,N=Q,H=Z),j.isETH||_?e({badAddresses:N,badBalances:H,badTokenIds:K}):($=[],ee=[],N.forEach((function(address,e){"0x0000000000000000000000000000000000000000"!=address?$.push(address):ee.push(address)})),($.length==N.length||$>ee)&&!S?(S=!0,r({retryAttempt:R})):(f("SET_SIMPLE",S),e({badAddresses:N,badBalances:H,badTokenIds:K}))),n.next=33;break;case 29:n.prev=29,n.t0=n.catch(2),S=!1,R>=v?t(n.t0):r({retryAttempt:R});case 33:case"end":return n.stop()}}),n,null,[[2,29]])})));return function(e){return n.apply(this,arguments)}}();r({})})));case 6:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})),n);t.default={namespaced:!0,state:function(){var e;return e={bulksenderAddress:"",txFee:"20000000000000000",isVIP:!1,vipFee:"1000000000000000000",addressUrl:"",txUrl:"",explorerParams:"",maxGasUsed:72e5,gasCostPerTransfer:{eth:38e4,token:9e5,nft:9e5},maxBlockByteSizeKB:28,gasPrice:10,transferTestingCount:5,etherBatchSize:220,simple:!1,checkSimpleTimes:4,transferTestingAmounts:[1,10,100,1e3,1e4,1e5,1e6,1e7]},Object(be.a)(e,"etherBatchSize",220),Object(be.a)(e,"estimateETHCost",.01),Object(be.a)(e,"vipTxHash",""),Object(be.a)(e,"vipTxStatus",-1),Object(be.a)(e,"txs",[]),Object(be.a)(e,"successTxs",[]),Object(be.a)(e,"failedTxs",[]),Object(be.a)(e,"burnerKey",{}),Object(be.a)(e,"usedBurnerKey",!1),Object(be.a)(e,"burner",[]),Object(be.a)(e,"burnerSignature",Object(be.a)({v:27,r:""},"v","")),Object(be.a)(e,"delegaterTxUrl",""),Object(be.a)(e,"remainTxUrl",""),Object(be.a)(e,"delegaterTxStatus",-1),Object(be.a)(e,"remainTxStatus",-1),Object(be.a)(e,"baseCallingGas",1e5),Object(be.a)(e,"delegaterExtraGas",3e4),Object(be.a)(e,"commonExtraGas",1e5),Object(be.a)(e,"referralFee",1e16),Object(be.a)(e,"etherDelegateCallExtraGas",0),Object(be.a)(e,"etherSpecialAcountExtraGas",1e4),Object(be.a)(e,"referralAddress","0x0000000000000000000000000000000000000000"),Object(be.a)(e,"extraFee",0),e},getters:ye,mutations:{SET_BULKSENDER_ADDRESS:function(e,address){e.bulksenderAddress=address},SET_TX_FEE:function(e,t){e.txFee=t},SET_VIP_FEE:function(e,t){e.vipFee=t},SET_IS_VIP:function(e,t){e.isVIP=t},SET_REFERRAL_FEE:function(e,t){e.referralFee=t},SET_GAS_PRICE:function(e,t){e.gasPrice=t},SET_ADDRESS_URL:function(e,t){e.addressUrl=t},SET_TX_URL:function(e,t){e.txUrl=t},SET_EXPLORER_PARAMS:function(e,t){e.explorerParams=t},ADD_TX:function(e,t){e.txs.push(t)},ADD_SUCCESS_TXS:function(e,t){e.successTxs.push(t)},ADD_FAILED_TXS:function(e,t){e.failedTxs.push(t)},SET_SIMPLE:function(e,t){e.simple=t},SET_estimateCostPerTransfer:function(e,t){e.simple=t},SET_VIP_TX_HASH:function(e,t){e.vipTxHash=t},SET_VIP_TX_STATUS:function(e,t){e.vipTxStatus=t},SET_BURNER_KEY:function(e,t){e.burnerKey=t},SET_USED_BURNER_KEY:function(e,t){e.usedBurnerKey=t},SET_BURNER:function(e,t){e.burner=t},SET_BURNER_SSINATURE:function(e,t){e.burnerSignature=t},SET_DELEGATE_TX_URL:function(e,t){e.delegaterTxUrl=t},SET_REMAIN_TX_URL:function(e,t){e.remainTxUrl=t},SET_DELEGATE_TX_STATUS:function(e,t){e.delegaterTxStatus=t},SET_REMAIN_TX_STATUS:function(e,t){e.remainTxStatus=t},SET_REFERRAL_ADDRESS:function(e,address){e.referralAddress=address},SET_BASE_CALLING_GAS:function(e,t){e.baseCallingGas=t},SET_EXTRA_FEE:function(e,t){e.extraFee=t},CLEAR:function(e){e.extraFee=0,e.successTxs=[],e.failedTxs=[],e.txs=[],e.remainTxUrl="",e.delegaterTxUrl=""}},actions:Oe}}.call(this,r(6).Buffer)}}]);